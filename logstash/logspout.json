{
    "key": "logspout",
    "label": "LogSpout",
    "image": {
		"name" : "ndslabs/logspout",
		"tags" : ["v4", "latest"]
	},
    "access":"internal",
	"display" : "stack",
    "depends": [
        {
            "key": "logstash",
            "required": true
        }
    ],
    "config":  [
        {
            "name": "LABEL",
            "value": "io.kubernetes.pod.namespace:^$(NAMESPACE)$"
        },
        {
            "name": "DEBUG",
            "value": "true"
        }
    ],
    "command": [ "bin/logspout" ],
    "args": [ "syslog+tcp://$(LOGSTASH_PORT_5000_TCP_ADDR):$(LOGSTASH_PORT_5000_TCP_PORT)" ],
    "volumeMounts":[
        { "mountPath": "/tmp/docker.sock", "type": "docker" }
    ],
    "resourceLimits": {
        "cpuMax": 200,
        "cpuDefault": 100,
        "memMax": 250,
        "memDefault": 100
    },
	"repositories": [
		{
			"type" : "git",
			"url" : "https://github.com/elastic/logstash"
		}
	],
	"privileged": true,
	"info": "https://nationaldataservice.atlassian.net/wiki/display/NDSC/Logstash",
	"logo": "https://nationaldataservice.atlassian.net/wiki/download/attachments/17170441/logstash-small.png",
	"tags" : ["30"]
}
